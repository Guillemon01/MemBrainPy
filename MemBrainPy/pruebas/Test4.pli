@model<test4>

def main() {
    /* Estructura: 
       - “1” (piel) con una hija “2”
       - “2” tiene como hija la membrana “3” */
    @mu = [[[]'3]'2]'1;

    /* Recursos iniciales */
    @ms(1) = m*2;
    @ms(2) = n;
    @ms(3) = p*3;

    /* Reglas: 
       - En “1”: cada “m” se comunica hacia afuera (out)
       - En “2”: cooperativa (n p -> q)
       - En “3”: comunica “p” de regreso a “1” (in 1)
       - También en “2”: produce “r” a partir de “q” */
    [m --> m (out)] '1';
    [n p --> q] '2';
    [p --> p (in 1)] '3';
    [q --> r] '2';
}

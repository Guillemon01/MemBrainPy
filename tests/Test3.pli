@model<test3>

def main() {
    /* Estructura: 
       - “1” (piel) con dos hijas: “2” y “3”
       - “2” a su vez tiene como hija a “4”
    */
    @mu = [[[]'4]'2[]'3]'1;

    /* Recursos iniciales en cada membrana */
    @ms(1) = x*2, y;
    @ms(2) = z;
    @ms(3) = w*2;
    @ms(4) = u;

    /* Reglas: 
       - En “1”: reescritura cooperativa con PRIORIDAD 2
       - En “2”: comunicación “in” hacia “4”
       - En “3”: cooperativa sin comas (dos “w” → “t”)
       - En “4”: duplicación (u → u u) sin sufijos
    */
    [x y --> v :2] '1;
    [z --> z (in 4)] '2;
    [w w --> t] '3;
    [u --> u u] '4;
}
